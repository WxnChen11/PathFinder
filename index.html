<!DOCTYPE html>
<html>
<head>

<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="style.css" rel="stylesheet">
		<link href="bootstrap.min.css" rel="stylesheet">
		<link href='http://fonts.googleapis.com/css?family=Michroma|Monda|Exo|Montserrat|Fjalla+One|Quantico' rel='stylesheet' type='text/css'>

<title>Shortest Distance Finder</title>


</head>

<div class="title" id="maintitle">
<h1>Shortest Distance Finder</h1>
</div>

<img src="C:\Users\Wenxin\Documents\School\University\Utek\FrontEnd\flaskr\logo_utek.png" alt="Logo UTEK" id="uteklogo"\>

<!-- <body>
  Start Address:<br>
  <input type="text" id="a1"><br>
  End Address:<br>
  <input type="text" id="a2"><br>
   <br>
  <button type="button" onclick="submit()" class="btn btn-default">Submit</button>
</body> -->

<div class="form-group">
  <label for="Start" id="startlbl">Start Address</label>
  <input type="text" class="form-control" id="a1">
</div>
<div class="form-group">
  <label for="End" id="endlbl">Destination Address</label>
  <input type="text" class="form-control" id="a2">
</div>

<button type="button" onclick="submit()" class="btn btn-default" id="btn">Submit</button>

<p><img id = "loading"></p>
<p id="res">Enter Addresses Above</p>


<h5 align="center">Created by Winston Chen. <small>Last Updated Jan 2016. Framework used: Flask. 	</small></h5>

<script type="text/javascript">
function submit()
{

document.getElementById("loading").src = "C:\\Users\\Wenxin\\Documents\\School\\University\\Utek\\FrontEnd\\flaskr\\loader2.gif";

document.getElementById("res").innerHTML = "Please Wait";

<!-- alert("hi"); -->
var url = 'http://' + window.location.host + '/add?a1=' + input('a1') + '&a2=' + input('a2')
httpGetAsync(url, function (response){

	var sd = JSON.parse(response)['shortestdistance']
	var start = JSON.parse(response)['start']
	var end = JSON.parse(response)['end']
	if(sd == "Start Address Could Not Be Found"){
	alert("The Start Address Could Not Be Found");
	}
	else if(sd == "End Address Could Not Be Found"){
	alert("The Destination Address Could Not Be Found");
	}
	else{
	document.getElementById("res").innerHTML =("The shortest distance between " + start + " and " + end + " is " + Math.round(sd*100)/100 + " km");
	}
});

}

function input(id)
{
	return document.getElementById(id).value
}

function httpGetAsync(theUrl, callback)
{
	var xmlHttp = new XMLHttpRequest();
	xmlHttp.onreadystatechange = function() {
		if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
			callback(xmlHttp.responseText);
	
	
	
	}

xmlHttp.open("GET", theUrl, true);
xmlHttp.send(null);

}



</script>
		<script src="bootstrap.min.js"></script>
		<script src="jquery-1.11.1.min.js"></script>
</html>
</style>