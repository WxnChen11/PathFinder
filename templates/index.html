<!DOCTYPE html>
<html>
<head>

<!-- <meta name="viewport" content="width=device-width, initial-scale=1">
 -->	
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"  integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
		<!-- https://cdn.rawgit.com/WxnChen11/WebApp/webhost/static/style.css -->
		<!-- <link href="https://rawgit.com/WxnChen11/WebApp/webhost/static/style.css" rel="stylesheet" type="text/css"> -->
        <link href="https://rawgit.com/WxnChen11/textFiles/master/style.css" rel="stylesheet">
		<link href='http://fonts.googleapis.com/css?family=Michroma|Monda|Exo|Montserrat|Fjalla+One|Quantico' rel='stylesheet'>
        <link href="https://cdn.rawgit.com/nostalgiaz/bootstrap-switch/master/dist/css/bootstrap3/bootstrap-switch.css" rel="stylesheet">


<title>Shortest Distance Finder</title>

</head>

<div class="title" id="maintitle">
<h1>Shortest Distance Finder</h1>
</div>

<img src="https://raw.githubusercontent.com/WxnChen11/WebApp/webhost/logo_utek.png" alt="Logo UTEK" id="uteklogo"\>

<!-- <body>
  Start Address:<br>
  <input type="text" id="a1"><br>
  End Address:<br>
  <input type="text" id="a2"><br>
   <br>
  <button type="button" onclick="submit()" class="btn btn-default">Submit</button>
</body> -->

<div class="pic" id="bg">
<img src="https://newevolutiondesigns.com/images/freebies/white-wallpaper-18.jpg" class="img-responsive" alt="Responsive image">
</div>


<div class="container">
  <div class="row">
    <div class="col-md-4"></div>
    <div class="col-md-4">

        <div class="form-group">
          <label for="Start" id="startlbl">Start Address</label>
          <input type="text" class="form-control" id="a1">
        </div>
        <div class="form-group">
          <label for="End" id="endlbl">Destination Address</label>
          <input type="text" class="form-control" id="a2">
        </div>


    </div>

    <div class="col-md-4">
    </div>



</div>

      <div class="row">
          <div style="text-align:center;">
                  <input type="checkbox" name="my-checkbox" checked data-on-text="A*" data-off-text="Dijkstra's" data-label-text="Select an Algorithm" data-off-color="success" data-label-width=150>
          </div>
      </div>


</div>
<p>&nbsp</p>
<button type="button" onclick="submit()" class="btn btn-default" id="btn">Submit</button>
<p>&nbsp</p>


<p><img id = "loading" src="https://raw.githubusercontent.com/WxnChen11/textFiles/master/placeholder.png"></p>
<h3 id="res">Enter Addresses Above</h3>


<h5 align="center" id="credit">Created by Winston Chen. <small>Last Updated Jan 2016. Framework used: Flask. 	</small></h5>

<script type="text/javascript">
function submit()
{

document.getElementById("loading").src = "https://raw.githubusercontent.com/WxnChen11/textFiles/master/anim_trans.gif";

document.getElementById("res").innerHTML = "Please Wait";

    var mode;

    if ($('input[name="my-checkbox"]').bootstrapSwitch('state') == true) {
        mode = "astar";
    } else {
        mode = "dijkstras";
    }

<!-- alert("hi"); -->
var url = 'http://' + window.location.host + '/' + mode + '?a1=' + input('a1') + '&a2=' + input('a2')
httpGetAsync(url, function (response){

	var sd = JSON.parse(response)['shortestdistance']
	var start = JSON.parse(response)['start']
	var end = JSON.parse(response)['end']
	if(sd == "Start Address Could Not Be Found"){
	alert("The Start Address Could Not Be Found");
	document.getElementById("res").innerHTML = "Enter Addresses Above";
	}
	else if(sd == "End Address Could Not Be Found"){
	alert("The Destination Address Could Not Be Found");
	document.getElementById("res").innerHTML = "Enter Addresses Above";
	}
	else{
	document.getElementById("res").innerHTML =("The shortest distance between " + start + " and " + end + " is " + Math.round(sd*100)/100 + " km");
	}
	
	document.getElementById("loading").src = "https://raw.githubusercontent.com/WxnChen11/textFiles/master/placeholder.png";

});

}

function input(id)
{
	return document.getElementById(id).value
}

function httpGetAsync(theUrl, callback)
{
	var xmlHttp = new XMLHttpRequest();
	xmlHttp.onreadystatechange = function() {
		if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
			callback(xmlHttp.responseText);
	
	
	
	}

xmlHttp.open("GET", theUrl, true);
xmlHttp.send(null);

}



</script>
		<!-- <script src="C:\Users\Wenxin\Documents\School\University\Utek\FrontEnd\flaskr\bootstrap.min.js"></script> -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
        <script src="https://cdn.rawgit.com/nostalgiaz/bootstrap-switch/master/dist/js/bootstrap-switch.js"></script>
        <script type="text/javascript">
            $("[name='my-checkbox']").bootstrapSwitch();
        </script>
</html>
</style>